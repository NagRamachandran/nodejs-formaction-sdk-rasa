const response={events:[],responses:[{text:""}]},handleFormAction=(e,t,n,s,l)=>new Promise((o,r)=>{let a=JSON.parse(JSON.stringify(response));const u=()=>{try{let t=e.length-1;for(let r in e){let u=e[r];if(null===n[u]){let e="utter_ask_"+u;a.responses[0].text=s[e][0].text,a.events.push({event:"slot",name:"components",value:"text_msg"}),a.events.push({event:"slot",name:"requested_slot",value:u}),o(a);break}t==r&&(a.events.push({event:"followup",name:l}),o(a))}}catch(e){r(e)}};if(t.length){const s=t.length-1;for(let l in t){let o=t[l];e.includes(o.entity)&&(a.events.push({event:"slot",name:o.entity,value:o.value}),n[o.entity]=o.value),s==l&&u()}}else u()});module.exports.handleFormAction=handleFormAction;